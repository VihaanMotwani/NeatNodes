<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500;600;700&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --base: #1e2028;
      --surface: #262830;
      --raised: #2e3038;
      --elevated: #363840;
      --stroke: #363840;
      --stroke-hover: #484a54;
      --text-1: #e0e0e6;
      --text-2: #9a9ca6;
      --text-3: #6c6e78;
      --accent: #e8e8ee;
      --easy: #5cc8a0;
      --medium: #e8b84c;
      --hard: #e07070;
      --orange: #e8986c;
      --purple: #9878c8;
    }

    body {
      width: 380px;
      max-height: 560px;
      overflow-y: auto;
      background: var(--base);
      color: var(--text-1);
      font-family: 'Outfit', sans-serif;
      font-size: 13px;
      -webkit-font-smoothing: antialiased;
    }

    /* Grain â€” removed for clean look */

    body::-webkit-scrollbar { width: 4px; }
    body::-webkit-scrollbar-track { background: var(--base); }
    body::-webkit-scrollbar-thumb { background: var(--stroke-hover); border-radius: 2px; }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px 10px;
      border-bottom: 1px solid var(--stroke);
    }

    .logo {
      font-family: 'Syne', sans-serif;
      font-weight: 800;
      font-size: 14px;
      color: var(--accent);
      letter-spacing: -0.3px;
      text-transform: lowercase;
    }
    .logo span {
      color: var(--text-3);
      font-weight: 700;
      font-size: 10px;
      margin-left: 4px;
    }

    .header-actions { display: flex; gap: 8px; }

    .icon-btn {
      background: transparent;
      border: 1px solid var(--stroke);
      color: var(--text-3);
      width: 28px;
      height: 28px;
      border-radius: 3px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-family: 'JetBrains Mono', monospace;
      transition: all 0.12s;
    }
    .icon-btn:hover { border-color: var(--stroke-hover); color: var(--text-2); }

    .review-banner {
      padding: 10px 16px;
      background: var(--surface);
      border-bottom: 1px solid var(--stroke);
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      transition: background 0.12s;
    }
    .review-banner:hover { background: var(--raised); }
    .review-banner .count {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 700;
      font-size: 16px;
      color: var(--text-1);
    }
    .review-banner .label {
      color: var(--text-3);
      font-size: 10px;
      font-family: 'JetBrains Mono', monospace;
      letter-spacing: 0.5px;
    }
    .review-banner .arrow {
      color: var(--text-3);
      font-size: 12px;
      font-family: 'JetBrains Mono', monospace;
    }

    .section { padding: 12px 16px; }

    .section-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--text-3);
      margin-bottom: 10px;
    }

    .detected-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      background: rgba(92,200,160,0.08);
      color: var(--easy);
      padding: 2px 6px;
      border-radius: 2px;
      font-size: 10px;
      font-family: 'JetBrains Mono', monospace;
      margin-bottom: 10px;
      border: 1px solid rgba(92,200,160,0.12);
      letter-spacing: 0.5px;
    }

    input[type="text"], input[type="url"] {
      width: 100%;
      background: transparent;
      border: none;
      border-bottom: 1px solid var(--stroke);
      color: var(--text-1);
      padding: 7px 0;
      font-family: 'Outfit', sans-serif;
      font-size: 12px;
      outline: none;
      transition: border-color 0.12s;
      border-radius: 0;
    }
    input:focus { border-color: var(--text-3); }
    input::placeholder { color: var(--text-3); }

    .field { margin-bottom: 10px; }
    .field label {
      display: block;
      font-size: 10px;
      color: var(--text-3);
      margin-bottom: 4px;
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    .chip-group {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .chip {
      padding: 4px 8px;
      border-radius: 3px;
      font-size: 11px;
      cursor: pointer;
      border: 1px solid var(--stroke);
      background: transparent;
      color: var(--text-3);
      transition: all 0.12s;
      font-family: 'Outfit', sans-serif;
    }
    .chip:hover { border-color: var(--stroke-hover); color: var(--text-2); }
    .chip.active { border-color: var(--stroke-hover); background: var(--raised); color: var(--text-1); }

    .chip.diff-easy.active { border-color: rgba(92,200,160,0.3); background: rgba(92,200,160,0.08); color: var(--easy); }
    .chip.diff-medium.active { border-color: rgba(232,184,76,0.3); background: rgba(232,184,76,0.08); color: var(--medium); }
    .chip.diff-hard.active { border-color: rgba(224,112,112,0.3); background: rgba(224,112,112,0.08); color: var(--hard); }

    .chip.conf-0.active { border-color: rgba(224,112,112,0.25); background: rgba(224,112,112,0.06); color: var(--hard); }
    .chip.conf-1.active { border-color: rgba(232,152,108,0.25); background: rgba(232,152,108,0.06); color: var(--orange); }
    .chip.conf-2.active { border-color: rgba(232,184,76,0.25); background: rgba(232,184,76,0.06); color: var(--medium); }
    .chip.conf-3.active { border-color: rgba(92,200,160,0.25); background: rgba(92,200,160,0.06); color: var(--easy); }

    .pattern-select {
      width: 100%;
      background: var(--surface);
      border: 1px solid var(--stroke);
      color: var(--text-1);
      padding: 7px 10px;
      border-radius: 3px;
      font-family: 'Outfit', sans-serif;
      font-size: 12px;
      outline: none;
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2352545e' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
    }
    .pattern-select:focus { border-color: var(--stroke-hover); }
    .pattern-select option { background: var(--surface); color: var(--text-1); }

    .ds-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }
    .ds-tag {
      padding: 2px 6px;
      border-radius: 2px;
      font-size: 10px;
      cursor: pointer;
      border: 1px solid transparent;
      background: var(--surface);
      color: var(--text-3);
      transition: all 0.12s;
      font-family: 'JetBrains Mono', monospace;
    }
    .ds-tag:hover { border-color: var(--stroke); }
    .ds-tag.active { border-color: var(--stroke-hover); background: var(--raised); color: var(--text-2); }

    .notes-input {
      width: 100%;
      background: var(--surface);
      border: 1px solid var(--stroke);
      color: var(--text-1);
      padding: 7px 10px;
      border-radius: 3px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      outline: none;
      resize: vertical;
      min-height: 44px;
      max-height: 100px;
    }
    .notes-input:focus { border-color: var(--stroke-hover); }
    .notes-input::placeholder { color: var(--text-3); }

    .timer-section {
      padding: 10px 16px;
      border-top: 1px solid var(--stroke);
      background: var(--surface);
    }

    .timer-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .timer-display {
      font-family: 'JetBrains Mono', monospace;
      font-size: 22px;
      font-weight: 700;
      color: var(--text-3);
      letter-spacing: 2px;
    }
    .timer-display.running { color: var(--text-1); }
    .timer-display.danger { color: var(--hard); }

    .timer-controls { display: flex; gap: 4px; }

    .timer-btn {
      padding: 5px 12px;
      border-radius: 3px;
      border: 1px solid var(--stroke);
      background: transparent;
      color: var(--text-3);
      font-family: 'JetBrains Mono', monospace;
      font-size: 10px;
      cursor: pointer;
      transition: all 0.12s;
      letter-spacing: 0.3px;
    }
    .timer-btn:hover { border-color: var(--stroke-hover); color: var(--text-2); }
    .timer-btn.start { border-color: rgba(92,200,160,0.3); color: var(--easy); }
    .timer-btn.start:hover { background: rgba(92,200,160,0.06); }
    .timer-btn.stop { border-color: rgba(224,112,112,0.3); color: var(--hard); }
    .timer-btn.stop:hover { background: rgba(224,112,112,0.06); }

    .timer-label {
      font-size: 10px;
      color: var(--text-3);
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 4px;
    }

    .submit-section {
      padding: 12px 16px 14px;
      border-top: 1px solid var(--stroke);
    }

    .submit-btn {
      width: 100%;
      padding: 8px;
      border-radius: 3px;
      border: 1px solid var(--stroke-hover);
      background: var(--raised);
      color: var(--text-1);
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s;
      letter-spacing: 0.5px;
    }
    .submit-btn:hover { background: var(--elevated); border-color: var(--text-3); }
    .submit-btn:disabled { opacity: 0.2; cursor: not-allowed; }
    .submit-btn.success { border-color: rgba(92,200,160,0.3); color: var(--easy); }

    .msg {
      text-align: center;
      padding: 5px;
      font-size: 10px;
      border-radius: 2px;
      margin-top: 6px;
      font-family: 'JetBrains Mono', monospace;
    }
    .msg.error { background: rgba(224,112,112,0.06); color: var(--hard); }
    .msg.success { background: rgba(92,200,160,0.06); color: var(--easy); }

    .no-problem {
      text-align: center;
      padding: 20px 16px;
      color: var(--text-3);
    }
    .no-problem p { margin-bottom: 4px; font-size: 12px; }
    .no-problem .hint {
      font-size: 10px;
      color: var(--text-3);
      font-family: 'JetBrains Mono', monospace;
    }

    .divider {
      border: none;
      border-top: 1px solid var(--stroke);
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">neatnodes <span>v1</span></div>
    <div class="header-actions">
      <button class="icon-btn" id="dashboardBtn" title="Open Dashboard">-></button>
    </div>
  </div>

  <div class="review-banner" id="reviewBanner">
    <div>
      <div class="count" id="reviewCount">0</div>
      <div class="label">reviews due</div>
    </div>
    <span class="arrow">-></span>
  </div>

  <div id="detectedBadge" style="display:none; padding: 12px 16px 0;">
    <div class="detected-badge">AUTO-DETECTED</div>
  </div>

  <div class="section">
    <div class="section-title">Add Problem</div>

    <div class="field">
      <label>Title</label>
      <input type="text" id="titleInput" placeholder="Two Sum">
    </div>

    <div class="field">
      <label>URL</label>
      <input type="url" id="urlInput" placeholder="https://leetcode.com/problems/two-sum">
    </div>

    <div class="field">
      <label>Pattern</label>
      <select class="pattern-select" id="patternSelect">
        <option value="">Select pattern</option>
      </select>
    </div>

    <div class="field">
      <label>Difficulty</label>
      <div class="chip-group" id="diffGroup">
        <div class="chip diff-easy" data-value="Easy">Easy</div>
        <div class="chip diff-medium active" data-value="Medium">Medium</div>
        <div class="chip diff-hard" data-value="Hard">Hard</div>
      </div>
    </div>

    <div class="field">
      <label>Confidence</label>
      <div class="chip-group" id="confGroup">
        <div class="chip conf-0" data-value="0">Couldn't solve</div>
        <div class="chip conf-1" data-value="1">Needed hints</div>
        <div class="chip conf-2 active" data-value="2">With effort</div>
        <div class="chip conf-3" data-value="3">Nailed it</div>
      </div>
    </div>

    <div class="field">
      <label>Data Structures</label>
      <div class="ds-tags" id="dsTags"></div>
    </div>

    <div class="field">
      <label>Notes</label>
      <textarea class="notes-input" id="notesInput" placeholder="Key insight, approach used..."></textarea>
    </div>
  </div>

  <div class="timer-section">
    <div class="timer-label">Timer</div>
    <div class="timer-row">
      <div class="timer-display" id="timerDisplay">30:00</div>
      <div class="timer-controls">
        <button class="timer-btn start" id="timerStartBtn">Start</button>
        <button class="timer-btn stop" id="timerStopBtn" style="display:none">Stop</button>
      </div>
    </div>
  </div>

  <div class="submit-section">
    <button class="submit-btn" id="submitBtn">Add to Graph</button>
    <div id="submitMsg"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
